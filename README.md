# Sprint_7
Финальный проект 7 спринта.
В этом проекте протестированы несколько ручек API сервиса Яндекс Самокат по документации: qa-scooter.praktikum-services.ru/docs/.

## Файл data.py: 
Содержит тестовые данные для параметризованных тестов и данные для оформления заказа.

## Файл conftest.py: 
Содержит фикстуру new_courier() которая создает нового курьера, и удаляет его после завершения теста.

## Файл requirements.txt: 
Содержит список внешних зависимостей (библиотеки и модули), лежит в корневой папке проекта.

## tests
Директория tests содержит тест-кейсы.

### test_courier_login.py - тесты ручки авторизации курьера POST /api/v1/courier/login.
В тестах проверяется следующее:
- курьер может авторизоваться;
- для авторизации нужно передать все обязательные поля;
- система вернёт ошибку, если неправильно указать логин или пароль;
- если какого-то поля нет, запрос возвращает ошибку;
- если авторизоваться под несуществующим пользователем, запрос возвращает ошибку;
- успешный запрос возвращает id.

### test_create_courier.py - тесты ручки создания курьера POST /api/v1/courier.
В тестах проверяется следующее:
- курьера можно создать;
- нельзя создать двух одинаковых курьеров;
- чтобы создать курьера, нужно передать в ручку все обязательные поля;
- запрос возвращает правильный код ответа;
- успешный запрос возвращает {"ok":true};
- если одного из полей нет, запрос возвращает ошибку;
- если создать пользователя с логином, который уже есть, возвращается ошибка.

### test_create_order.py - тесты ручки создания заказа" POST /api/v1/orders.
В тестах проверяется успешное создание заказа:
- можно указать один из цветов — BLACK или GREY;
- можно указать оба цвета;
- можно совсем не указывать цвет;
- тело ответа содержит track.

### test_delete_courier.py - тесты ручки удаления курьера" DELETE /api/v1/courier/:id.
В тестах проверяется удаление курьера:
- неуспешный запрос возвращает соответствующую ошибку;
- успешный запрос возвращает{"ok":true};
- если отправить запрос с несуществующим id, вернётся ошибка.

### test_get_order_by_id.py - тесты ручки получения заказ по его номеру" GET /api/v1/orders/track
В тестах проверяется:
- успешный запрос возвращает объект с заказом;
- запрос без номера заказа возвращает ошибку;
- запрос с несуществующим заказом возвращает ошибку.

### test_order_list.py - тесты ручки получение списка заказов" GET /api/v1/orders.
В тесте проверяется, что в тело ответа возвращается список заказов.

### test_take_order.py - тесты ручки принять заказ" PUT /api/v1/orders/accept/:id.
В тесте проверяется:
- успешный запрос возвращает{"ok":true};
- если не передать id курьера, запрос вернёт ошибку;
- если передать неверный id курьера, запрос вернёт ошибку;
- если не передать id заказа, запрос вернёт ошибку;
- если передать неверный id заказа, запрос вернёт ошибку.
